# 2.0 Attack Narrative

## 2.2 Reconnaissance


#### Passive Reconnaissance
Passive reconnaissance on the target involves gathering information that is already available on the internet and doing so without directly interacting with the target system.
Methods of passive reconnaissance involve using Google syntax, enumerating website subdomains, links, and services like the [WayBack Machine](https://web.archive.org/). 

As this is a new application that is being hosted through a hosting company, [Netlify](https://www.netlify.com/), no results were found through passive reconnaissance.
![](https://dev-to-uploads.s3.amazonaws.com/i/pxmc7nhvswwxl7zlugzq.png)


#### Active Reconnaissance
Active reconnaissance on the target involved directly probing the target system and retrieving an output.
Methods of active reconnaissance involve fingerprinting the web application, using the Shodan network scanner, performing a DNS forward and reverse lookup, and examining the source code; to name a few.

- [Nmap](https://nmap.org/) produced a few open ports but they were all related specifically to Netlify and is not included in the scope.
- [Shodan](https://www.shodan.io/) produced no results related to the application.
- Upon inspecting the HEAD and OPTIONS HTTP requests and gathering information about the web app through error pages, the following information was retrieved:
 - Server: Netlify
 - (HTTP Strict Transport Security) HSTS is enforced as the site will not load from http. 
 - Sign up and login without information from the site fail.
 - Upon signup and login attempt it can be seen that there is traffic to the api at "https://the-trapper-keeper.herokuapp.com/api/v1/users" ![Alt Text](https://dev-to-uploads.s3.amazonaws.com/i/0czyggslaq11o1bspo4h.png)
 - Login with wrong credentials does not show which part was incorrect. On the site an error message populates saying "unknown username or password" and from the API an error message of "{"error":"ivalid credentials"}" is returned. ![Alt Text](https://dev-to-uploads.s3.amazonaws.com/i/ilt7l2kqv4iowi4z79oh.png) [oops... i spelled 'invalid' wrong...]
 - The server from the api is called "Cowboy".
 - When trying to create an account that is already taken a header of "Authorization: Bearer undefined" is returned.
 - When a valid user is created "{"user":{"username":"admin1","password":"admining","email":"admin@admin.com"}}" a lot of information is returned. ![Alt Text](https://dev-to-uploads.s3.amazonaws.com/i/3x1w1v95sezmdqcouhr7.png) It should be noted that headers "Access-Control-Allow-Origin: *" and "Access-Control-Allow-Methods: GET, POST, PUT, PATCH, DELETE, OPTIONS, HEAD" are returned.
 - No cookie is set but there is Session Storage of a JWT.



